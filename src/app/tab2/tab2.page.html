<ion-header>
  <ion-toolbar color="primary">
    <ion-title>Tabungan</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">

  <!-- TOTAL SALDO -->
  <ion-card class="total-card">
    <ion-card-content>
      <p>Total Saldo</p>
      <h2>Rp {{ total }}</h2>
    </ion-card-content>
  </ion-card>

  <!-- RIWAYAT -->
  <ion-card>
    <ion-card-content>

      <h3 class="section-title">Riwayat Tabungan</h3>

      <div *ngFor="let d of data" class="transaksi-item">

        <div class="left">
          <strong>{{ d.nama }}</strong>
          <p>{{ d.tanggal }}</p>
          <small>{{ d.keterangan }}</small>
        </div>

        <div class="right">
          <span
            [class.plus]="d.jenis==='+'"
            [class.minus]="d.jenis==='-'">
            {{ d.jenis }} Rp {{ d.nominal }}
          </span>

          <ion-button
            size="small"
            color="danger"
            fill="clear"
            (click)="hapus(d.id)">
            Hapus
          </ion-button>
        </div>

      </div>

    </ion-card-content>
  </ion-card>

  <!-- TOMBOL + -->
  <ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button (click)="openForm()">
      <span style="font-size:28px;font-weight:bold;">+</span>
    </ion-fab-button>
  </ion-fab>

  <!-- MODAL FORM INPUT -->
  <ion-modal [isOpen]="showForm" (didDismiss)="closeForm()">

    <ng-template>

      <ion-header>
        <ion-toolbar color="primary">
          <ion-title>Tambah Tabungan</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="closeForm()">Tutup</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>

      <ion-content class="ion-padding">

        <ion-item>
          <ion-input
            label="Nama"
            labelPlacement="floating"
            [(ngModel)]="form.nama">
          </ion-input>
        </ion-item>

        <ion-item>
          <ion-select
            label="Jenis"
            labelPlacement="floating"
            [(ngModel)]="form.jenis">
            <ion-select-option value="+">Debit (+)</ion-select-option>
            <ion-select-option value="-">Cash (-)</ion-select-option>
          </ion-select>
        </ion-item>

        <ion-item>
          <ion-input
            label="Nominal"
            labelPlacement="floating"
            type="number"
            [(ngModel)]="form.nominal">
          </ion-input>
        </ion-item>

        <ion-item>
          <ion-input
            label="Tanggal"
            labelPlacement="floating"
            type="date"
            [(ngModel)]="form.tanggal">
          </ion-input>
        </ion-item>

        <ion-item>
          <ion-textarea
            label="Keterangan"
            labelPlacement="floating"
            [(ngModel)]="form.keterangan">
          </ion-textarea>
        </ion-item>

        <ion-button
          expand="block"
          color="success"
          (click)="simpan(); closeForm()">
          Simpan Tabungan
        </ion-button>

      </ion-content>

    </ng-template>

  </ion-modal>

</ion-content>
